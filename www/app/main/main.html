<ion-view title="Positions">
  <div ng-if="data.main.length > 0" class="bar bar-subheader item-input-inset" ng-class="{'bar-positive': search.length > 0}">
    <label class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Search ..." ng-model="search">
    </label>
    <button class="button button-clear" ng-click="search=''">Cancel</button>
  </div>
  <ion-content class="has-subheader">
    <div ng-if="data.main.length === 0" class="empty-msg">Nothing</div>
    <div ng-if="data.main.length > 0" class="list">
      <a class="item item-avatar" ng-repeat="pos in data.filteredPositions = (data.main | filter:search) track by pos.id" ui-sref="app.pos({id: pos.id})">
        <img ng-src="{{pos.avatar}}">
        <h2>{{pos.user}}</h2>
        <p>{{pos.content}}</p>
      </a>
    </div>
  </ion-content>
</ion-view>
